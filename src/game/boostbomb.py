import pygame
import random
from .boost import Boost
from ..utils.audio import Audio


class BoostBomb(Boost):
    def __init__(self, x, y):
        super().__init__(x, y, 10, "bomb")
        self.rotation = random.randint(0, 36)*10

    def draw(self, screen: pygame.display):
        sign = [-106.1, -56.6, -98.1, -71.6, -86.1, -85.6, -76.1, -93.6, -71.1, -93.6, -68.1, -91.6, -63.1, -84.6, -49.1, -62.6, -41.1, -48.6, -34.1, -36.6, -39.1, -31.6, -42.1, -27.6, -44.1, -
                22.6, -45.1, -17.6, -45.1, -13.6, -53.1, -13.6, -62.1, -13.6, -72.1, -13.6, -91.1, -13.6, -108.1, -13.6, -114.1, -16.6, -115.1, -17.6, -115.1, -19.6, -114.1, -29.6, -111.1, -42.6]
        body = [-173.1, -59.6, -172.1, -88.3, -169.3, -106.9, -160.9, -128.8, -153.5, -144.1, -140.5, -160.9, -126.0, -173.0, -111.1, -185.1, -176.1, -241.6, -179.1, -245.6, -179.1, -264.6, -180.1, -344.2, -178.6, -350.3, -174.9, -352.7, -170.1, -354.6, -137.6, -355.2, -116.5, -355.2, -110.7, -354.6, -103.9, -348.8, -13.1, -239.6, -11.1, -344.6, -7.1, -351.6, -2.7, -354.0, 2.5, -354.6, 7.7, -353.0, 13.5, -347.8, 13.2, -335.0, 13.9, -238.6, 31.9, -260.6, 107.9, -351.6, 112.3, -355.2, 123.4, -355.2, 151.5, -355.5, 167.4, -355.2, 173.8, -354.6, 177.5, -352.1, 180.3, -348.1,
                180.9, -344.6, 180.9, -244.6, 112.6, -186.0, 120.1, -178.6, 135.4, -162.8, 151.3, -143.2, 162.0, -126.0, 166.6, -112.0, 175.9, -69.6, 174.9, 171.4, 175.0, 190.8, 173.6, 204.3, 167.1, 231.8, 155.0, 258.8, 142.4, 275.5, 129.4, 290.9, 114.5, 302.5, 93.1, 315.5, 79.1, 320.2, 65.9, 325.4, 48.9, 329.0, 47.9, 339.4, 46.9, 347.4, 43.9, 356.4, 35.9, 362.4, 15.9, 363.4, -16.1, 362.4, -31.1, 361.4, -39.1, 357.4, -46.1, 350.4, -47.1, 328.4, -58.1, 325.4, -84.1, 317.4, -103.1, 306.4, -125.1, 290.4, -146.1, 268.4, -163.1, 238.4, -170.1, 218.4, -172.1, 193.4, -173.1, 171.4]

        scale = 0.006
        color = (255, 200, 200)

        # inside
        pygame.draw.polygon(screen, (0, 0, 0),
                            self.custom_polygon(body, scale, 0, (0, 0)))

        pygame.draw.polygon(screen, color,
                            self.custom_polygon(body, scale, 0, (0, 0)), 2)
        pygame.draw.polygon(screen, color,
                            self.custom_polygon(sign, scale, 0, (0, 10)))
        pygame.draw.polygon(screen, color,
                            self.custom_polygon(sign, scale, 120, (0, 10)))
        pygame.draw.polygon(screen, color,
                            self.custom_polygon(sign, scale, 240, (0, 10)))

    def update(self, dt: float):
        self.rotation += (dt * 50)

    def collect(self):
        super().collect()
        Audio.play_boost_bomb()
