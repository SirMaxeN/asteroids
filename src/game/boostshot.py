import pygame
import random
from .boost import Boost
from ..utils.audio import Audio


class BoostShot(Boost):

    def __init__(self, x, y):
        super().__init__(x, y, 10, "shot")
        self.rotation = random.randint(0, 36)*10

    def draw(self, screen: pygame.display):
        elements = [
            [-85.8, -30.9, 13.2, -30.9, 17.8, -28.3, 21.9, -23.2, 22.5, -15.9, 20.4, -9.9, 15.0, -
             6.0, 12.2, -3.9, -85.8, -3.9, -93.5, -8.3, -96.3, -15.4, -95.5, -22.5, -92.8, -26.9],
            [-77.8, -81.9, 56.2, -81.9, 52.2, -71.9, 51.2, -64.9, 50.5, -58.2, 51.2, 31.1, 53.2, 41.1, 56.2, 47.1, 18.2, 47.1, -79.8, 47.1, -95.8, 41.1, -110.8, 32.1, -122.8, 18.1, -128.8, 7.1, -131.8, -3.9, -133.8, -16.9, -131.8, -31.9, -124.8, -48.9, -114.8, -61.9, -101.8, -
             72.9, -90.7, -78.8, -77.8, -81.9, -90.8, -44.9, -93.8, -44.9, -103.8, -37.9, -110.8, -25.9, -110.8, -11.9, -105.8, -0.9, -97.8, 6.1, -88.8, 10.1, 16.2, 10.1, 21.2, 8.1, 32.2, 1.1, 37.2, -7.9, 39.1, -18.2, 37.2, -29.9, 30.2, -37.9, 17.2, -44.9, -77.8, -44.9, -90.8, -44.9],
            [-93.8, 59.1, -85.2, 61.3, -76.1, 63.3, -56.8,
             62.6, -37.8, 62.1, -61.8, 164.1, -119.8, 164.1],
            [-20.8, 62.1, 9.2, 62.1, 8.0, 71.4, 7.0, 79.6, 2.4, 89.1, -
             4.5, 95.3, -12.6, 99.9, -20.8, 102.2, -31.8, 103.1],
            [-55.8, -134.9, -42.4, -135.2, -32.2, -135.2, -25.4, -131.2, -
             21.1, -124.7, -19.8, -115.9, -19.8, -96.9, -55.8, -96.9],
            [-174.8, -28.9, -168.8, -39.9, -155.8, -47.9, -143.1, -48.9, -146.8, -33.9, -148.0, -17.8, -148.0, -
             4.7, -144.0, 7.0, -141.8, 14.1, -151.8, 13.1, -159.7, 10.0, -169.8, 4.1, -175.4, -5.4, -176.8, -15.9],
            [67.1, -70.4, 71.7, -82.8, 77.3, -91.0, 87.4, -100.5, 101.1, -107.4, 111.2, -108.9,
             111.2, 76.1, 100.5, 71.8, 92.3, 67.2, 84.1, 61.6, 77.3, 55.4, 71.2, 46.1, 67.2, 29.1],
            [126.2, -24.9, 162.2, -24.9, 162.2, -10.9, 126.2, -10.9],
            [177.2, -22.9, 182.5, -33.2, 189.4, -36.8, 195.0, -37.1, 201.2, -35.8, 209.0, -31.5, 213.2, -24.9, 213.9, -
             18.4, 214.2, -13.2, 211.3, -8.3, 208.0, -4.1, 203.1, -0.5, 195.6, 1.2, 184.8, -1.8, 178.2, -7.9, 176.6, -15.5]
        ]

        scale = 0.014
        color = (200, 255, 200)

        for i in elements:
            pygame.draw.polygon(screen, color,
                                self.custom_polygon(i, scale, 0, (0, 0)), 2)

    def update(self, dt: float):
        self.rotation += (dt * 50)

    def collect(self):
        super().collect()
        Audio.play_boost_shot()
